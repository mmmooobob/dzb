var map={_map:$(".ylmap"),_mapValue:null,_mapIndex:null,mapAddEventHandler:function(e,b,d,c){var a=d;if(!global._isOwnEmpty(c)){a=function(f){d.call(this,c)}}e.each(function(){$(this).on(b,a)})},mapShow:function(option){var str_data=$(this).attr("data-detal");option.detal=str_data!=""?eval("("+str_data+")"):"";option.latitude=$(this).attr("data-latitude");option.longitude=$(this).attr("data-longitude");var detal=option.detal,latitude=option.latitude,longitude=option.longitude,fnOpen=option.fnOpen,fnClose=option.fnClose;global._scrollStop();__map._map.addClass("show");$(document.body).animate({scrollTop:0},0);if($(this).attr("data-mapIndex")!=__map._mapIndex){__map._map.html($('<div class="bk"><span class="css_sprite01 s-bg-map-logo"></span></div>'));__map._mapValue=false;__map._mapIndex=$(this).attr("data-mapIndex")}else{__map._mapValue=true}setTimeout(function(){if(__map._map.find("div").length>=1){__map._map.addClass("mapOpen");page.page_stop();global._scrollStop();media._audioNode.addClass("z-low");page._page.eq(page._pageNow).css("z-index",15);setTimeout(function(){if(!__map._mapValue){__map.addMap(detal,latitude,longitude,fnOpen,fnClose)}},500)}else{return}},100)},mapSave:function(){$(window).on("webkitTransitionEnd transitionend",a);if(page){page.page_start()}global._scrollStart();__map._map.removeClass("mapOpen");if(media){media._audioNode.removeClass("z-low")}if(!__map._mapValue){__map._mapValue=true}function a(){__map._map.removeClass("show");$(window).off("webkitTransitionEnd transitionend")}},addMap:function(c,g,d,f,e){var c=c,g=Number(g),d=Number(d);var f=typeof(f)==="function"?f:"",e=typeof(e)==="function"?e:"";var b={sign_name:"",contact_tel:"",address:"天安门"};global._isOwnEmpty(c)?c=b:c=c;!g?g=39.915:g=g;!d?d=116.404:d=d;__map._map.ylmap({detal:c,latitude:g,longitude:d,fnOpen:f,fnClose:e})}};